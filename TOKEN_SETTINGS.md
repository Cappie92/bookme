# Настройки токенов аутентификации

## Текущие настройки

- **Access Token**: 7 дней
- **Refresh Token**: 30 дней

## Обоснование

Для приложения без критических данных (платежные данные, персональная информация) такие настройки обеспечивают:

1. **Удобство использования**: Пользователи не будут постоянно перелогиниваться
2. **Безопасность**: Достаточный срок для обнаружения компрометации
3. **Производительность**: Меньше запросов на обновление токенов

## Настройка через переменные окружения

### Development (docker-compose.yml)
```yaml
environment:
  - ACCESS_TOKEN_EXPIRE_DAYS=7
  - REFRESH_TOKEN_EXPIRE_DAYS=30
```

### Production (docker-compose.prod.yml)
```yaml
environment:
  - ACCESS_TOKEN_EXPIRE_DAYS=7
  - REFRESH_TOKEN_EXPIRE_DAYS=30
```

## Изменение настроек

### Для увеличения срока жизни токенов:
1. Измените переменные в `docker-compose.yml` и `docker-compose.prod.yml`
2. Перезапустите контейнеры: `docker-compose down && docker-compose up --build -d`

### Рекомендуемые значения:
- **Access Token**: 7-14 дней (для комфортной работы)
- **Refresh Token**: 30-90 дней (для автоматического обновления)

## Безопасность

- Токены хранятся в `localStorage` браузера
- При каждом запросе проверяется валидность токена
- При истечении срока действия пользователь автоматически перенаправляется на страницу входа
- Refresh token используется для автоматического обновления access token

## Мониторинг

Для проверки срока жизни токенов используйте:
```bash
cd backend && python check_token_expiry.py
```

## Примечания

- Настройки применяются только к новым токенам
- Существующие токены сохраняют свой срок жизни
- Для немедленного применения изменений все пользователи должны перелогиниться
