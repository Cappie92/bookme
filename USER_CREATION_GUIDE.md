# üìã –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ CSV

## üéØ –§–æ—Ä–º–∞—Ç CSV —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ CSV —Ñ–∞–π–ª —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏:

```csv
email,phone,full_name,password,role,specialization
admin@dedato.ru,+79031078685,–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä,1JaK999ddd9,ADMIN,
salon1@example.com,+79123456789,–°–∞–ª–æ–Ω –ö—Ä–∞—Å–æ—Ç—ã ‚Ññ1,password123,SALON,
master1@example.com,+79123456791,–ò–≤–∞–Ω –£–Ω–∏–≤–µ—Ä—Å–∞–ª,password123,MASTER,both
master2@example.com,+79123456792,–ü–µ—Ç—Ä –°–∞–ª–æ–Ω–∞,password123,MASTER,salon
master3@example.com,+79123456793,–ê–Ω–Ω–∞ –ò–Ω–¥–∏,password123,MASTER,indie
client1@example.com,+79123456795,–ê–Ω–Ω–∞ –ö–ª–∏–µ–Ω—Ç,password123,CLIENT,
```

## üìù –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------------|--------|
| `email` | Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ | `admin@dedato.ru` |
| `phone` | –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ | ‚úÖ | `+79031078685` |
| `full_name` | –ü–æ–ª–Ω–æ–µ –∏–º—è | ‚úÖ | `–ò–≤–∞–Ω –ú–∞—Å—Ç–µ—Ä` |
| `password` | –ü–∞—Ä–æ–ª—å (–±—É–¥–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω) | ‚úÖ | `password123` |
| `role` | –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ | `ADMIN`, `SALON`, `MASTER`, `CLIENT` |
| `specialization` | –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—Ç–µ—Ä–∞ | ‚ùå | `both`, `salon`, `indie` |

## üîß –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Å—Ç–µ—Ä–æ–≤

### `both` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–∞—Å—Ç–µ—Ä
- –ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –≤ —Å–∞–ª–æ–Ω–µ, –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `masters` —Å `can_work_independently=True` –∏ `can_work_in_salon=True`
- –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `indie_masters` –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π —Ä–∞–±–æ—Ç—ã

### `salon` - –¢–æ–ª—å–∫–æ —Å–∞–ª–æ–Ω–Ω—ã–π –º–∞—Å—Ç–µ—Ä
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —Å–∞–ª–æ–Ω–∞—Ö
- –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `masters` —Å `can_work_independently=False` –∏ `can_work_in_salon=True`

### `indie` - –¢–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –º–∞—Å—Ç–µ—Ä
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `masters` —Å `can_work_independently=True` –∏ `can_work_in_salon=False`
- –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `indie_masters`

### –ü—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π
- –ï—Å–ª–∏ `specialization` –ø—É—Å—Ç–æ–µ, —Å–æ–∑–¥–∞–µ—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–∞—Å—Ç–µ—Ä (`both`)

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–π—Ç–µ CSV —Ñ–∞–π–ª
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∏–∑ `example_users.csv` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
```bash
cd /Users/s.devyatov/DeDato
python3 backend/create_users_from_csv.py your_users.csv
```

### 3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
scp bookme.db root@193.160.208.206:/home/root/dedato/
```

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥
```bash
ssh root@193.160.208.206 "cd /home/root/dedato && docker-compose -f docker-compose.prod.yml restart backend"
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
sqlite3 bookme.db "SELECT id, email, role FROM users;"

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@193.160.208.206 "cd /home/root/dedato && docker-compose -f docker-compose.prod.yml exec -T backend python -c \"
import sqlite3
conn = sqlite3.connect('/app/bookme.db')
cursor = conn.cursor()
cursor.execute('SELECT id, email, role FROM users')
users = cursor.fetchall()
print('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:')
for user in users:
    print(f'  {user[0]}: {user[1]} ({user[2]})')
conn.close()
\""
```

## üîç –õ–æ–≥–∏

–°–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:
- ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚ùå –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –º–∞—Å—Ç–µ—Ä–æ–≤

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–∞—Ä–æ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ö—ç—à–∏—Ä—É—é—Ç—Å—è** —Å –ø–æ–º–æ—â—å—é bcrypt
2. **Email –∏ —Ç–µ–ª–µ—Ñ–æ–Ω –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏**
3. **–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—ã–µ** (`is_active=True`)
4. **–î–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª–∏** –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
5. **–°–∞–ª–æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–æ–ª—å—é `SALON`

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç –ø–æ–ª–Ω–∞—è –±–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –º–∞—Å—Ç–µ—Ä–æ–≤.

